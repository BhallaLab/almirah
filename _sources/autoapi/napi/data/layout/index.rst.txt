:py:mod:`napi.data.layout`
==========================

.. py:module:: napi.data.layout

.. autoapi-nested-parse::

   Model classes to represent layouts and its components.



Module Contents
---------------

Classes
~~~~~~~

.. autoapisummary::

   napi.data.layout.Base
   napi.data.layout.Tag
   napi.data.layout.File
   napi.data.layout.Layout




.. py:class:: Base


   Bases: :py:obj:`sqlalchemy.orm.DeclarativeBase`

   Represents base object of ORM.


.. py:class:: Tag(path, name, value)


   Bases: :py:obj:`Base`

   Generic tag representation.

   .. py:attribute:: __tablename__
      :value: 'tags'

      

   .. py:attribute:: path
      :type: sqlalchemy.orm.Mapped[str]

      

   .. py:attribute:: name
      :type: sqlalchemy.orm.Mapped[str]

      

   .. py:attribute:: value
      :type: sqlalchemy.orm.Mapped[str]

      

   .. py:attribute:: file
      :type: sqlalchemy.orm.Mapped[File]

      

   .. py:method:: boolean_tag(file, name, func)
      :staticmethod:

      Add a boolean tag to file based on func return value.


   .. py:method:: __repr__()



.. py:class:: File(path, root)


   Bases: :py:obj:`Base`

   Generic file representation.

   .. py:property:: rel_path


   .. py:attribute:: __tablename__
      :value: 'files'

      

   .. py:attribute:: path
      :type: sqlalchemy.orm.Mapped[str]

      

   .. py:attribute:: root
      :type: sqlalchemy.orm.Mapped[str]

      

   .. py:attribute:: layout
      :type: sqlalchemy.orm.Mapped[Layout]

      

   .. py:attribute:: tags
      :type: sqlalchemy.orm.Mapped[Dict[str, Tag]]

      

   .. py:method:: build_modified_path(changes)

      Returns the path for file given changes to tags.


   .. py:method:: __repr__()



.. py:class:: Layout(root, name=None)


   Bases: :py:obj:`Base`

   Representation of file collection in a directory.

   .. py:attribute:: __tablename__
      :value: 'layouts'

      

   .. py:attribute:: root
      :type: sqlalchemy.orm.Mapped[str]

      

   .. py:attribute:: name
      :type: sqlalchemy.orm.Mapped[str]

      

   .. py:attribute:: files
      :type: sqlalchemy.orm.Mapped[List[File]]

      

   .. py:method:: _init_on_load()


   .. py:method:: _decipher_kind()


   .. py:method:: _decipher_prefix()


   .. py:method:: create(root, name=None, spec=None, indexer=None, index=True, valid_only=True)
      :staticmethod:

      Factory method for Layout.


   .. py:method:: get_files(**filters)

      Return files that match criteria.


   .. py:method:: get_tag_values(name, **filters)

      Return all values available for a tag name.


   .. py:method:: __repr__()



